<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styles.css" />
    <script src="./index.mjs" type="module"></script>
    <title>Title</title>
</head>

<body>
    <canvas id="canvas"></canvas>

    <script id="vertShader" type="shader-code">
        void setPosition(vec4 position) {
            gl_Position = projectionMatrix * modelViewMatrix * position;
        }

        float calcR(float x) {
            return (1.0 + sin(x)) * (1.0 + 0.9 * cos(8.0 * x)) * (1.0 + 0.1 * cos(24.0 * x)) * (0.5 + 0.05 * cos(140.0 * x));
        }
        
        void main() {
            float r = calcR(position.x);
            setPosition(vec4( r * cos(position.x), r * sin(position.x), position.z, 1.0 ));
		}
    </script>

    <script id="fragShader" type="shader-code">
        float convertRgb(float value) {
            return value / 256.0;
        }

        void main() {
            gl_FragColor = vec4(convertRgb(255.0),convertRgb(0.0),convertRgb(0.0),1.0);
        }
    </script>
</body>

</html>